(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{149:function(e,t,r){"use strict";r.d(t,"a",(function(){return f})),r.d(t,"b",(function(){return l})),r.d(t,"c",(function(){return d}));r(37),r(25),r(23),r(11),r(45),r(31),r(46);var n=r(20);r(27),r(56),r(210),r(28);function o(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?o(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):o(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f=function(e){return c(c({},e),{},{sectorSlug:(t=e.Sector,t.toLowerCase().replaceAll(" ","_"))});var t},l=function(e){return{type:"FeatureCollection",features:e.map(d)}},d=function(e){return{type:"Feature",id:e.ID,properties:c({},e),geometry:{type:"Point",coordinates:[e.lon,e.lat]}}}},154:function(e,t,r){"use strict";var n=r(1),o=r(122),c=r(150),f=r.n(c);n.a.component("MglGeojsonLayer",o.a),n.a.component("MglMap",o.b),n.a.component("MglNavigationControl",o.c),n.a.prototype.$mapbox=f.a},155:function(e,t,r){"use strict";var n=r(1),o=r(207),c=r.n(o);n.a.use(c.a)},17:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return c})),r.d(t,"d",(function(){return f})),r.d(t,"e",(function(){return l})),r.d(t,"k",(function(){return d})),r.d(t,"j",(function(){return m})),r.d(t,"i",(function(){return y})),r.d(t,"h",(function(){return v})),r.d(t,"l",(function(){return O})),r.d(t,"f",(function(){return j})),r.d(t,"g",(function(){return h})),r.d(t,"m",(function(){return w}));var n="patjpTcGqO0qo7eu1.2ee5e1b82de8133ccf24fa5dd7f1c6d877d727b0ecbf6be7a8a392a218afa02a",o="appVbmRHpF0PZbybE",c="listings",f="sectors",l="text blocks",d="mapbox://styles/ceanyc/cl7p3nxfl000v14qvvqthfb0g",m="pk.eyJ1IjoiY2VhbnljIiwiYSI6ImNsMzV5NnV2ZjM0YnQzam81NG1sazdzaDUifQ.PEE1DtXPV-YASshMbtMqEA",y=12,v={lng:-73.99,lat:40.693},O=[-74.464,40.368,-73.453,41.065],j="https://gocoopnyc.org/",h="https://nycfridge-1595334632389.firebaseio.com/fridges.json",w="https://node-db.netlify.app/nodes.json"},231:function(e,t,r){r(232),e.exports=r(233)},292:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return c})),r.d(t,"mutations",(function(){return f})),r.d(t,"actions",(function(){return l}));var n=r(5),o=(r(32),r(213),r(23),r(11),r(78)),c=function(){return{sectors:[]}},f={setSectors:function(e,t){var r=t.sectors;e.sectors=r}},l={loadSectors:function(e){return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,Object(o.b)();case 3:n=t.sent.filter((function(e){return"Done"===e.Status})).sort((function(a,b){return a.Order-b.Order})),r("setSectors",{sectors:n});case 5:case"end":return t.stop()}}),t)})))()}}},309:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return n})),r.d(t,"mutations",(function(){return o})),r.d(t,"actions",(function(){return c})),r.d(t,"getters",(function(){return f}));r(147),r(27),r(148);var n=function(){return{sectors:[]}},o={setSectors:function(e,t){var r=t.sectors;e.sectors=r}},c={setSectors:function(e,t){var r=e.commit,n=(e.state,t.sectors);r("setSectors",{sectors:n,pushToURL:{sectors:n.join("|")}})},loadQueryParams:function(e,t){var r=e.dispatch,n=t.params;n.sectors&&r("setSectors",{sectors:n.sectors.split("|")})}},f={queryParams:function(e){return{sectors:e.sectors.join("|")}}}},310:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return n})),r.d(t,"mutations",(function(){return o})),r.d(t,"actions",(function(){return c}));var n=function(){return{open:!1,imageUrl:null}},o={setImageUrl:function(e,t){var r=t.imageUrl;e.imageUrl=r},setOpen:function(e,t){var r=t.open;e.open=r}},c={open:function(e,t){var r=e.commit;r("setImageUrl",{imageUrl:t.imageUrl}),r("setOpen",{open:!0})},close:function(e){var t=e.commit;t("setImageUrl",{imageUrl:null}),t("setOpen",{open:!1})}}},311:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return n})),r.d(t,"mutations",(function(){return o})),r.d(t,"actions",(function(){return c}));var n=function(){return{visible:!1}},o={setVisible:function(e,t){var r=t.visible;e.visible=r}},c={setHidden:function(e){(0,e.commit)("setVisible",{visible:!1})},setVisible:function(e){(0,e.commit)("setVisible",{visible:!0})}}},312:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return o})),r.d(t,"mutations",(function(){return c})),r.d(t,"actions",(function(){return f})),r.d(t,"getters",(function(){return l}));var n=r(43),o=(r(198),r(11),r(35),r(28),r(23),r(57),r(66),function(){return{availableLayers:[{name:"City Council Districts",layerIds:["districts-cc-label","districts-cc-line","districts-cc-fill"]},{name:"Community Districts",layerIds:["districts-cd-label","districts-cd-line","districts-cd-fill"]},{name:"ZIP Codes",layerIds:["districts-zip-label","districts-zip-line","districts-zip-fill"]}],selectedLayers:[],visible:!1}}),c={setSelectedLayers:function(e,t){var r=t.selectedLayers;e.selectedLayers=Object(n.a)(r)},setVisible:function(e,t){var r=t.visible;e.visible=r}},f={setSelectedLayers:function(e,t){(0,e.commit)("setSelectedLayers",{selectedLayers:t.selectedLayers})},setHidden:function(e){(0,e.commit)("setVisible",{visible:!1})},setVisible:function(e){(0,e.commit)("setVisible",{visible:!0})}},l={layerByName:function(e){return function(t){return e.availableLayers.find((function(e){return e.name===t}))}},selectedLayers:function(e,t){return e.selectedLayers.map(t.layerByName)},unselectedLayers:function(e,t){return t.unselectedLayerNames.map(t.layerByName)},unselectedLayerNames:function(e){return e.availableLayers.map((function(e){return e.name})).filter((function(t){return!e.selectedLayers.includes(t)}))}}},313:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return d})),r.d(t,"mutations",(function(){return m})),r.d(t,"actions",(function(){return y})),r.d(t,"getters",(function(){return v}));r(25),r(45),r(31),r(46);var n=r(20),o=(r(314),r(23),r(11),r(28),r(37),r(17));function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function f(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}function l(e,t){var r={};return e&&(r=f(f({},r),{},{lng:(+e.lng).toFixed(4),lat:(+e.lat).toFixed(4)})),t&&(r=f(f({},r),{},{zoom:(+t).toFixed(2)})),r}var d=function(){return{initialCenter:f({},o.h),initialZoom:o.i,center:f({},o.h),zoom:o.i,hoveredFeature:{}}},m={setCenter:function(e,t){var r=t.center;e.center=r},setInitialCenter:function(e,t){var r=t.center;e.initialCenter=r},setPosition:function(e,t){var r=t.center,n=t.zoom;e.center=r,e.zoom=n},setZoom:function(e,t){var r=t.zoom;e.zoom=r},setHoveredFeature:function(e,t){e.hoveredFeature=f({},t)},setInitialZoom:function(e,t){var r=t.zoom;e.initialZoom=r}},y={setCenter:function(e,t){var r=e.commit,n=e.state,o=t.center;r("setCenter",{center:o,pushToURL:l(o,n.zoom)})},setZoom:function(e,t){var r=e.commit,n=e.state,o=t.zoom;r("setZoom",{zoom:o,pushToURL:l(n.center,o)})},setPosition:function(e,t){var r=e.commit,n=t.center,o=t.zoom;r("setPosition",{center:n,zoom:o,pushToURL:l(n,o)})},setHoveredFeature:function(e,t){(0,e.commit)("setHoveredFeature",JSON.parse(JSON.stringify(t)))},loadQueryParams:function(e,t){var r=e.commit,n=(e.dispatch,t.params),c=o.h,f=o.i;n.lat&&n.lng&&(c={lat:+n.lat,lng:+n.lng}),r("setInitialCenter",{center:c}),n.zoom&&(f=+n.zoom),r("setInitialZoom",{zoom:f}),r("setPosition",{center:c,zoom:f})}},v={queryParams:function(e){return f({},l(e.center,e.zoom))},highlightedFeatures:function(e,t,r){return[e.hoveredFeature,r.popup.selectedFeatures.map((function(e){var t;return{layer:null==e||null===(t=e.layer)||void 0===t?void 0:t.id,id:e.id}}))[0]].filter((function(e){return!!e&&Object.keys(e).length>0}))}}},316:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return l})),r.d(t,"mutations",(function(){return d})),r.d(t,"actions",(function(){return m})),r.d(t,"getters",(function(){return y}));var n=r(20),o=r(43);r(28),r(23),r(11),r(37),r(25),r(45),r(31),r(46);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function f(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var l=function(){return{selectedFeatures:[]}},d={setSelectedFeatures:function(e,t){var r=t.selectedFeatures;e.selectedFeatures=Object(o.a)(r)}},m={setSelectedFeatures:function(e,t){var r,n,o=e.commit,c=(e.state,t.selectedFeatures);o("setSelectedFeatures",{selectedFeatures:JSON.parse(JSON.stringify(c)),pushToURL:{selectedFeature:null!==(r=null===(n=c[0])||void 0===n?void 0:n.id)&&void 0!==r?r:null}})},loadQueryParams:function(e,t){var r=e.commit,n=(e.dispatch,e.rootGetters),o=t.params;if(o.selectedFeature){var c=n["data/locationsGeoJson"].features.filter((function(e){return e.id===+o.selectedFeature})).map((function(e){return f(f({},e),{},{layer:{id:"locations"}})}));c&&r("setSelectedFeatures",{selectedFeatures:c})}}},y={queryParams:function(e){return{selectedFeature:e.selectedFeatures[0].id}}}},317:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return c})),r.d(t,"mutations",(function(){return f})),r.d(t,"actions",(function(){return l})),r.d(t,"getters",(function(){return d}));var n=r(5),o=(r(28),r(23),r(11),r(212),r(32),r(78)),c=function(){return{textBlocks:[]}},f={setTextBlocks:function(e,t){var r=t.textBlocks;e.textBlocks=r}},l={loadTextBlocks:function(e){return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,Object(o.c)();case 3:n=t.sent,r("setTextBlocks",{textBlocks:n});case 5:case"end":return t.stop()}}),t)})))()}},d={byType:function(e){return function(t){return e.textBlocks.filter((function(e){return e.Type===t})).map((function(e){return e.Content.trim()}))}}}},321:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return h})),r.d(t,"mutations",(function(){return w})),r.d(t,"actions",(function(){return P})),r.d(t,"getters",(function(){return x}));var n=r(5),o=r(43),c=(r(32),r(67),r(28),r(296),r(297),r(299),r(50),r(38),r(11),r(214),r(215),r(216),r(217),r(218),r(219),r(220),r(221),r(222),r(223),r(224),r(225),r(226),r(227),r(228),r(229),r(230),r(39),r(78)),f=r(17),l=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(f.g);case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=(r(23),function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(f.m);case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),y=function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:return e.abrupt("return",e.sent.filter((function(e){return"Installed"===e.status})));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=r(149),O=(r(35),function(e,i){return{ID:1e7+i,lat:e.lat,lon:e.lng,Address:"".concat(e.streetAddress," ").concat(e.neighborhood," ").concat(e.borough),"Display Name":e.name,Sector:"Community Fridges",sectorSlug:"community_fridges"}}),j=function(e){return{ID:e.id,lat:e.coordinates[1],lon:e.coordinates[0],"Display Name":"NYC Mesh Node",Website:"https://www.nycmesh.net/",Sector:"Mesh NYC Nodes",sectorSlug:"mesh_nodes"}},h=function(){return{locations:[]}},w={addLocations:function(e,t){var r=t.locations;e.locations=[].concat(Object(o.a)(e.locations),Object(o.a)(r))},setLocations:function(e,t){var r=t.locations;e.locations=r}},P={loadLocations:function(e,t){return Object(n.a)(regeneratorRuntime.mark((function r(){var n,o,f,l,d,m;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.commit,o=e.dispatch,f=e.getters,l=e.rootState,d=t.params,o("filters/loadQueryParams",{params:d},{root:!0}),m=l.filters.sectors.length,r.next=6,Object(c.a)((function(e){n("addLocations",{locations:e.map(v.a)}),m||o("filters/setSectors",{sectors:f.sectors},{root:!0})}));case 6:o("popup/loadQueryParams",{params:d},{root:!0});case 7:case"end":return r.stop()}}),r)})))()},loadCommunityFridges:function(e){return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,d();case 3:n=t.sent,o=Object.values(n).map(O),r("addLocations",{locations:o});case 6:case"end":return t.stop()}}),t)})))()},loadMeshNodes:function(e){return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,y();case 3:n=t.sent,o=Object.values(n).map(j),r("addLocations",{locations:o});case 6:case"end":return t.stop()}}),t)})))()}},x={locationsGeoJson:function(e){return Object(v.b)(e.locations)},sectors:function(e){var t=e.locations.map((function(e){return e.Sector})).flat(1/0);return Array.from(new Set(t))}}},322:function(e,t,r){"use strict";r.r(t),r.d(t,"plugins",(function(){return P})),r.d(t,"getters",(function(){return x}));r(37),r(25),r(23),r(11),r(45),r(31),r(46);var n=r(20),o=(r(27),r(56),r(79)),c=r(203),f=r.n(c);function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var m=o.a.isNavigationFailure,y=o.a.NavigationFailureType,v=function(e,t,r){var n=d(d({},e),t);return Object.keys(r).forEach((function(e){n[e]=r[e],null==n[e]&&delete n[e]})),n},O=function e(t,r,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=v(t.currentRoute.query,r,n.payload.pushToURL);t.replace({query:c}).catch((function(c){o&&m(c,y.cancelled)&&e(t,r,n)}))},j=f()((function(){return O.apply(void 0,arguments)}),500,{leading:!0,trailing:!0});function h(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function w(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var P=[function(e){e.subscribe((function(t,r){t.payload&&t.payload.pushToURL&&j($nuxt.$router,e.getters.queryParams,t)}))}],x={queryParams:function(e,t){return w(w({},t["map/queryParams"]),t["filters/queryParams"])}}},78:function(e,t,r){"use strict";r.d(t,"a",(function(){return m})),r.d(t,"b",(function(){return y})),r.d(t,"c",(function(){return v}));var n=r(43),o=r(5),c=(r(32),r(11),r(28),r(67),r(204)),f=r.n(c),l=r(17),d=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(table,t){var base;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return base=new f.a({apiKey:l.a}).base(l.b),e.abrupt("return",new Promise((function(e,r){var o=[];base(table).select({maxRecords:2500}).eachPage((function(e,r){var c=e.map((function(e){return e.fields}));o=[].concat(Object(n.a)(o),Object(n.a)(c)),t&&t(c),r()}),(function(t){if(t)return r(t);e(o)}))})));case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),m=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(l.c,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(l.d);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(l.e);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}},[[231,21,4,22]]]);